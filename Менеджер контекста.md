Менеджер контекста - это объект, реализующий dunder-методы `__enter__()` и `__exit__()`, выполнение которых гарантируется вне зависимости от исполняемого кода (даже в случае исключения). Менеджеры контекста являются упрощением конструкции `try/finally`. Контекстные методы удобно применять там, где необходимо выполнить какое-либо действие вне зависимости от результата выполнения программы (например, закрыть файл или базу данных).
```python
class MyContextManager:
    def __enter__(self):
        print('Всегда выполняется вначале')
        # Наличие оператора `return` не обязательно, тогда возвращаемое значение будет `None`.
        # Возвращаемое этим методом значение будет присвоено переменной, указанной после `as`.
        return self
    
    def __exit__(self, exc_type, exc_value, traceback):
        print('Всегда выполняется в конце')


with MyContextManager() as cm:
    print('Основной код программы')
    # Следующий код вызовет исключение ZeroDivision, но метод __exit__() выполнится в любом случае
    1/0

# Конструкция `with` не создаёт локальной области видимости,
# поэтому переменная `cm` остаётся доступной вне блока `with`
print(cm)  # <__main__.MyContextManager object at 0x...>
```